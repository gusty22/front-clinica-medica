<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ClinicaPi - Meu Perfil (Bootstrap 5)</title>
    <link rel="icon" type="image/x-icon" href="/static/favicon.ico">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <script src="https://unpkg.com/feather-icons"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <style>
        :root {
            --bs-primary: #00A896; --bs-primary-rgb: 0, 168, 150; --bs-primary-dark-rgb: 0, 138, 121; --bs-primary-bg-subtle: rgba(var(--bs-primary-rgb), 0.1);
            --bs-secondary: #5E60CE; --bs-secondary-rgb: 94, 96, 206; --bs-secondary-bg-subtle: rgba(var(--bs-secondary-rgb), 0.1);
            --bs-warning: #FF9E00; /* accent */ --bs-warning-rgb: 255, 158, 0; --bs-warning-bg-subtle: rgba(var(--bs-warning-rgb), 0.1); --bs-warning-text-emphasis: #cc7e00;
            --bs-danger: #f43f5e; /* rose-500 */ --bs-danger-rgb: 244, 63, 94; --bs-danger-bg-subtle: rgba(var(--bs-danger-rgb), 0.1); --bs-danger-text-emphasis: #f43f5e;
            --bs-dark: #1E293B; --bs-light: #F8FAFC; --bs-body-bg: var(--bs-light); --bs-border-color: #e2e8f0; --bs-border-color-translucent: rgba(var(--bs-dark-rgb), 0.1);
            --bs-secondary-color: #64748B; --bs-body-font-family: 'Inter', sans-serif; --bs-border-radius-xl: 0.75rem; --bs-border-radius-lg: 0.5rem;
            --bs-gray-100: #f1f5f9; --bs-gray-300: #d1d5db; --bs-gray-500: #6b7280; --bs-gray-600: #4b5563; --bs-gray-700: #374151;
        }
        body { display: flex; height: 100vh; overflow: hidden; font-size: 0.875rem; }
        .sidebar { width: 260px; min-width: 260px; background-color: var(--bs-white); border-right: 1px solid var(--bs-border-color); transition: width 0.3s ease; }
        .logo-icon { width: 32px; height: 32px; border-radius: 8px; background: linear-gradient(135deg, var(--bs-primary) 0%, var(--bs-secondary) 100%); }
        .sidebar .nav-link { color: var(--bs-secondary-color); font-weight: 500; padding: 0.75rem; border-radius: var(--bs-border-radius-lg); }
        .sidebar .nav-link .feather { width: 20px; height: 20px; color: #94a3b8; }
        .sidebar .nav-link:hover { background: var(--bs-gray-100); color: var(--bs-dark); }
        .sidebar .nav-link.active { background: var(--bs-light); color: var(--bs-primary); font-weight: 600; }
        .sidebar .nav-link.active .feather { color: var(--bs-primary); }
        .nav-group-title { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em; color: #64748b; padding: 0 0.75rem; margin-bottom: 0.5rem; }
        .user-profile .feather { color: #94a3b8; }
        .header { height: 64px; background: white; border-bottom: 1px solid var(--bs-border-color); }
        .search-input { padding-left: 2.5rem; font-size: 0.875rem; border-color: var(--bs-border-color); background-color: var(--bs-light); }
        .search-input:focus { outline: none; border-color: var(--bs-primary); background: white; box-shadow: 0 0 0 3px rgba(var(--bs-primary-rgb), 0.1); }
        .search-icon { position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); color: #94a3b8; pointer-events: none; }
        .action-button { width: 36px; height: 36px; border-radius: 50%; color: #64748b; background: transparent; transition: all 0.2s ease; position: relative; border: none; padding: 0; }
        .action-button:hover { background: var(--bs-gray-100); color: var(--bs-dark); }
        .notification-badge { position: absolute; top: 0; right: 0; width: 16px; height: 16px; font-size: 0.625rem; font-weight: 600; background: var(--bs-danger); }
        .main-content-wrapper { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
        main { flex: 1; overflow-y: auto; background-color: var(--bs-light); }
        .btn-primary:hover { background-color: rgba(var(--bs-primary-dark-rgb), 1); border-color: rgba(var(--bs-primary-dark-rgb), 1); }
        .text-primary { color: var(--bs-primary) !important; }
        .text-secondary { color: var(--bs-secondary-color) !important; } /* Cinza */
        .text-gray-600 { color: var(--bs-gray-600) !important; }
        .text-gray-700 { color: var(--bs-gray-700) !important; }
        .form-control:focus, .form-select:focus {
            border-color: var(--bs-primary);
            box-shadow: 0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.1);
        }
        .feather-sm { width: 1rem; height: 1rem; }
        .toggle-password {
            cursor: pointer;
            color: var(--bs-secondary-color);
        }

        @media (max-width: 768px) {
           .sidebar { width: 72px; }
           .sidebar .logo-text, .sidebar .nav-group-title, .sidebar .nav-link span, .sidebar .user-info, .sidebar .user-settings .feather { display: none; }
           .sidebar .logo { justify-content: center; padding-bottom: 1.5rem; padding-left: 0; padding-right: 0; }
           .sidebar .nav-link { justify-content: center; }
           .sidebar .user-profile { justify-content: center; padding-left: 0; padding-right: 0; }
           .header .search-bar-wrapper { display: none; }
        }
    </style>
</head>

<body>

    <aside class="sidebar d-flex flex-column vh-100">
        <div class="d-flex flex-column flex-grow-1 p-3">
            <div class="logo d-flex align-items-center gap-2 pb-3 mb-3 border-bottom">
                <div class="logo-icon d-flex align-items-center justify-content-center text-white">
                    <i data-feather="activity" style="width: 18px; height: 18px;"></i>
                </div>
                <span class="logo-text fs-5 fw-bold text-dark">ClinicaPi</span>
            </div>
            <nav class="nav nav-pills flex-column flex-grow-1">
                <div class="nav-group mb-3">
                    <div class="nav-group-title">Geral</div>
                    <a class="nav-link d-flex align-items-center gap-2" href="dashboard.html">
                        <i data-feather="home" class="nav-icon"></i>
                        <span>Dashboard</span>
                    </a>
                    <a class="nav-link d-flex align-items-center gap-2" href="agenda.html">
                        <i data-feather="calendar" class="nav-icon"></i>
                        <span>Agenda</span>
                    </a>
                    <a class="nav-link d-flex align-items-center gap-2" href="pacientes.html">
                        <i data-feather="users" class="nav-icon"></i>
                        <span>Pacientes</span>
                    </a>
                </div>
                <div class="nav-group mb-3">
                    <div class="nav-group-title">Administrativo</div>
                    <a class="nav-link d-flex align-items-center gap-2" href="prontuarios.html">
                        <i data-feather="clipboard" class="nav-icon"></i>
                        <span>Prontuários</span>
                    </a>
                    <a class="nav-link d-flex align-items-center gap-2" href="funcionarios.html">
                        <i data-feather="briefcase" class="nav-icon"></i>
                        <span>Funcionários</span>
                    </a>
                    <a class="nav-link d-flex align-items-center gap-2" href="convenios.html">
                        <i data-feather="credit-card" class="nav-icon"></i>
                        <span>Convênios</span>
                    </a>
                    <a class="nav-link d-flex align-items-center gap-2" href="configuracoes.html">
                        <i data-feather="settings" class="nav-icon"></i>
                        <span>Configurações</span>
                    </a>
                </div>
            </nav>
        </div>
        
        <div class="user-profile p-3 border-top dropup">
            <a href="#" class="d-flex align-items-center gap-2 text-decoration-none" data-bs-toggle="dropdown" aria-expanded="false" style="cursor:pointer;">
                <div class="user-avatar rounded-circle bg-primary-subtle d-flex align-items-center justify-content-center text-primary" style="width: 36px; height: 36px;">
                    <i data-feather="user"></i>
                </div>
                <div class="user-info flex-grow-1 lh-sm">
                    <div class="user-name fw-medium small text-dark">Dr. Silva</div>
                    <div class="user-role small text-muted">Médico</div>
                </div>
                <div class="user-settings">
                    <i data-feather="chevron-down"></i>
                </div>
            </a>
            <ul class="dropdown-menu shadow-sm" style="font-size: 0.875rem; width: calc(100% - 1.5rem); margin-left: 0.75rem;">
                <li><a class="dropdown-item d-flex align-items-center gap-2" href="meu-perfil.html"><i data-feather="user" class="feather-sm"></i> Meu Perfil</a></li>
                <li><a class="dropdown-item d-flex align-items-center gap-2" href="configuracoes.html"><i data-feather="settings" class="feather-sm"></i> Configurações</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item d-flex align-items-center gap-2 text-danger" href="login.html"><i data-feather="log-out" class="feather-sm"></i> Sair</a></li>
            </ul>
        </div>
    </aside>

    <div class="main-content-wrapper">

        <header class="header d-flex align-items-center px-4">
            <div class="search-bar-wrapper flex-grow-1 mx-md-4" style="max-width: 500px;">
                <div class="input-group input-group-sm position-relative">
                    <span class="search-icon"><i data-feather="search"></i></span>
                    <input type="text" class="form-control search-input" placeholder="Pesquisar...">
                </div>
            </div>
            <div class="header-actions ms-auto d-flex align-items-center gap-2">
                <button class="action-button">
                    <i data-feather="bell"></i>
                    <span class="notification-badge badge rounded-pill">3</span>
                </button>
                <button class="action-button">
                    <i data-feather="message-square"></i>
                    <span class="notification-badge badge rounded-pill">1</span>
                </button>
                
                <div class="user-menu dropdown">
                    <a href="#" class="d-flex align-items-center gap-2 text-decoration-none" data-bs-toggle="dropdown" aria-expanded="false" style="cursor: pointer;">
                        <div class="user-avatar rounded-circle bg-primary-subtle d-flex align-items-center justify-content-center text-primary" style="width: 36px; height: 36px;">
                            <i data-feather="user"></i>
                        </div>
                        <i data-feather="chevron-down" class="text-secondary"></i>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end shadow-sm" style="font-size: 0.875rem;">
                        <li><a class="dropdown-item d-flex align-items-center gap-2" href="meu-perfil.html"><i data-feather="user" class="feather-sm"></i> Meu Perfil</a></li>
                        <li><a class="dropdown-item d-flex align-items-center gap-2" href="configuracoes.html"><i data-feather="settings" class="feather-sm"></i> Configurações</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item d-flex align-items-center gap-2 text-danger" href="login.html"><i data-feather="log-out" class="feather-sm"></i> Sair</a></li>
                    </ul>
                </div>
            </div>
        </header>

        <main class="p-4">
            <div class="mb-4">
                <h1 class="h3 fw-bold text-dark mb-1">Meu Perfil</h1>
                <p class="text-secondary mb-0">Gerencie suas informações pessoais e de segurança.</p>
            </div>

            <div class="row g-4">
                
                <div class="col-lg-4">
                    <div class="card shadow-sm border-0 rounded-4">
                        <div class="card-body p-4 text-center">
                            <img class="rounded-circle mb-3" src="https://ui-avatars.com/api/?name=Dr+Silva&background=00A896&color=fff&size=128" alt="Dr. Silva" width="128" height="128">
                            <h2 class="h5 fw-bold text-dark mb-1">Dr. Silva</h2>
                            <p class="text-secondary small mb-3">Médico (Administrador)</p>
                            <button class="btn btn-sm btn-outline-secondary w-100">Alterar Foto</button>
                        </div>
                    </div>
                </div>

                <div class="col-lg-8">
                    <div class="card shadow-sm border-0 rounded-4 mb-4">
                        <form id="perfilForm">
                            <div class="card-header bg-white border-0 p-4">
                                <h3 class="h5 fw-bold text-dark mb-0">Informações Pessoais</h3>
                            </div>
                            <div class="card-body p-4">
                                <div class="row g-3">
                                    <div class="col-12">
                                        <label for="nome" class="form-label small">Nome Completo</label>
                                        <input type="text" class="form-control form-control-sm" id="nome" value="Dr. Silva" required>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="email" class="form-label small">E-mail</label>
                                        <input type="email" class="form-control form-control-sm" id="email" value="dr.silva@email.com" required>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="cpf" class="form-label small">CPF</label>
                                        <input type="text" class="form-control form-control-sm" id="cpf" value="123.456.789-00" readonly disabled>
                                    </div>
                                     <div class="col-md-6">
                                        <label for="nascimento" class="form-label small">Data de Nascimento</label>
                                        <input type="date" class="form-control form-control-sm" id="nascimento" value="1980-01-01" readonly disabled>
                                    </div>
                                    <div class="col-md-6">
                                        <label for="contato" class="form-label small">Telefone / Contato</label>
                                        <input type="tel" class="form-control form-control-sm" id="contato" value="(34) 99999-9999">
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer bg-light p-3 d-flex justify-content-end border-top">
                                <button type="submit" class="btn btn-primary btn-sm px-4">Salvar Alterações</button>
                            </div>
                        </form>
                    </div>

                    <div class="card shadow-sm border-0 rounded-4 mb-4">
                         <form id="enderecoForm">
                            <div class="card-header bg-white border-0 p-4">
                                <h3 class="h5 fw-bold text-dark mb-0">Endereço</h3>
                            </div>
                            <div class="card-body p-4">
                                <div class="row g-3">
                                    <div class="col-md-8">
                                        <label for="rua" class="form-label small">Rua</label>
                                        <input type="text" class="form-control form-control-sm" id="rua">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="complemento" class="form-label small">Complemento</label>
                                        <input type="text" class="form-control form-control-sm" id="complemento" placeholder="Ex: Apto 101">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="bairro" class="form-label small">Bairro</label>
                                        <input type="text" class="form-control form-control-sm" id="bairro">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="cidade" class="form-label small">Cidade</label>
                                        <input type="text" class="form-control form-control-sm" id="cidade">
                                    </div>
                                    <div class="col-md-4">
                                        <label for="estado" class="form-label small">Estado</label>
                                        <input type="text" class="form-control form-control-sm" id="estado" placeholder="Ex: MG">
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer bg-light p-3 d-flex justify-content-end border-top">
                                <button type="submit" class="btn btn-primary btn-sm px-4">Salvar Endereço</button>
                            </div>
                        </form>
                    </div>

                    <div class="card shadow-sm border-0 rounded-4">
                        <form id="senhaForm">
                            <div class="card-header bg-white border-0 p-4">
                                <h3 class="h5 fw-bold text-dark mb-0">Alterar Senha</h3>
                            </div>
                            <div class="card-body p-4">
                                <div class="mb-3">
                                    <label for="senhaAtual" class="form-label small">Senha Atual</label>
                                    <div class="input-group input-group-sm">
                                        <input type="password" class="form-control form-control-sm" id="senhaAtual" required>
                                        <span class="input-group-text bg-white toggle-password" data-target="senhaAtual">
                                            <i data-feather="eye"></i>
                                        </span>
                                    </div>
                                </div>
                                 <div class="mb-3">
                                    <label for="novaSenha" class="form-label small">Nova Senha</label>
                                    <div class="input-group input-group-sm">
                                        <input type="password" class="form-control form-control-sm" id="novaSenha" required>
                                        <span class="input-group-text bg-white toggle-password" data-target="novaSenha">
                                            <i data-feather="eye"></i>
                                        </span>
                                    </div>
                                </div>
                                 <div>
                                    <label for="confirmaSenha" class="form-label small">Confirmar Nova Senha</label>
                                    <div class="input-group input-group-sm">
                                        <input type="password" class="form-control form-control-sm" id="confirmaSenha" required>
                                        <span class="input-group-text bg-white toggle-password" data-target="confirmaSenha">
                                            <i data-feather="eye"></i>
                                        </span>
                                    </div>
                                </div>
                            </div>
                            <div class="card-footer bg-light p-3 d-flex justify-content-end border-top">
                                <button type="submit" class="btn btn-primary btn-sm px-4">Alterar Senha</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <script>
        // Inicializa Feather Icons
        feather.replace();
        
        // Adiciona classe 'feather-sm' para ícones menores (para dropdowns de logout)
        document.querySelectorAll('button .feather, a .feather').forEach(icon => {
            if (icon.closest('.btn-sm, .p-1, .px-2.py-1, .dropdown-item')) {
                icon.style.width = '1rem'; icon.style.height = '1rem';
            }
        });

        // Script para "Mostrar/Ocultar Senha" (para múltiplos campos)
        document.querySelectorAll('.toggle-password').forEach(toggle => {
            toggle.addEventListener('click', function (e) {
                const targetId = this.dataset.target;
                const passwordInput = document.getElementById(targetId);
                const eyeIcon = this.querySelector('i');
                
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                
                eyeIcon.setAttribute('data-feather', (type === 'password') ? 'eye' : 'eye-off');
                feather.replace(); // Re-renderiza o ícone específico
            });
        });
        
        // Placeholder para forms
        document.getElementById('perfilForm').addEventListener('submit', e => {
            e.preventDefault();
            alert('Perfil salvo (simulação)!');
        });
        
         document.getElementById('enderecoForm').addEventListener('submit', e => {
            e.preventDefault();
            alert('Endereço salvo (simulação)!');
        });

        document.getElementById('senhaForm').addEventListener('submit', e => {
            e.preventDefault();
            const nova = document.getElementById('novaSenha').value;
            const confirma = document.getElementById('confirmaSenha').value;
            
            if (nova !== confirma) {
                alert('A "Nova Senha" e a "Confirmação" não são iguais.');
                return;
            }
            
            alert('Senha alterada com sucesso (simulação)!');
            document.getElementById('senhaForm').reset();
        });

    </script>
</body>

</html>